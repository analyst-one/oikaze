@use 'sass:map';
@use 'sass:string';

@use 'tokens' as tokens;

:root {
  @include tokens.css-definitions();
}

// Multiple utility classes can be generated from a single token.
@each $token in tokens.all('color') {
  $basename: tokens.basename($token);
  $value: tokens.get($token);

  .color-#{$basename} {
    color: tokens.get($token);
  }

  .color-#{$basename}-20 {
    color: tokens.alpha($token, 'opacity.20');
  }

  .bg-#{$basename} {
    background-color: tokens.get($token);
  }
}

// We can also use the percentage() function to generate utility classes.
@each $token in tokens.all('$opacity') {
  $basename: tokens.basename($token);
  $value: tokens.percentage($token);

  .opacity-#{$basename} {
    opacity: $value;
  }
}

// We can also use the apply() function to generate utility classes.
@each $token in tokens.all('$text', false) {
  $basename: tokens.basename($token);

  .text-#{$basename} {
    @include tokens.apply($token);
  }
}
