@use 'sass:map';
@use 'sass:string';

@use 'tokens' as tokens;

@each $token in tokens.all('color') {
  $var: tokens.prop($token);
  $value: tokens.get($token);

  // remove the leading '--color-' from the variable name
  $var: string.slice($var, 9);

  .color-#{$var} {
    color: tokens.get($token);
  }

  .bg-#{$var} {
    background-color: tokens.get($token);
  }
}

@each $token in tokens.all('$opacity') {
  $var: tokens.prop($token);
  $value: tokens.percentage($token);

  // remove the leading '--' from the variable name
  $var: string.slice($var, 3);

  .#{$var} {
    opacity: $value;
  }
}

@each $token in tokens.all('$text', false) {
  $var: tokens.prop($token);

  // remove the leading '--text-' from the variable name
  $var: string.slice($var, 8);

  .text-#{$var} {
    @include tokens.apply($token);
  }
}
